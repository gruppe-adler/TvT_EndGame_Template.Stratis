if (isServer) exitWith {
	CIV_KILLED_POS = [0,0,0];
	CIV_GUNFIGHT_POS = [0,0,0];

	publicVariable "CIV_KILLED_POS";
	publicVariable "CIV_GUNFIGHT_POS";

	"CIV_GUNFIGHT_POS" addPublicVariableEventHandler {publicVariable "CIV_GUNFIGHT_POS"};
	"CIV_KILLED_POS" addPublicVariableEventhandler {publicVariable "CIV_KILLED_POS"};
};

if (hasInterface) then {
	player setVariable ["GunfightTimeout",false];

	"CIV_GUNFIGHT_POS" addPublicVariableEventHandler {0 = ["gunfight",CIV_GUNFIGHT_POS] spawn grad_civNotifications_fnc_handleEvent};
	"CIV_KILLED_POS" addPublicVariableEventHandler {0 = ["killed",CIV_KILLED_POS] spawn grad_civNotifications_fnc_handleEvent};

	// runs in SP to emulate addPublicVariableEventHandler (which doesnt work in SP)
	if (!isMultiplayer) then {
		[{(CIV_GUNFIGHT_POS select 0 != 0)},{
			0 = ["gunfight",CIV_GUNFIGHT_POS] spawn grad_civNotifications_fnc_handleEvent;
		},[]] call CBA_fnc_waitUntilAndExecute;

		[{(CIV_KILLED_POS select 0 != 0)},{
			0 = ["killed",CIV_KILLED_POS] spawn grad_civNotifications_fnc_handleEvent;
		},[]] call CBA_fnc_waitUntilAndExecute;
	};
};
